<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://aurelia.io"

    >aurelia-cli (v0.29.0)</a>
</h1>
<h4>The command line tooling for Aurelia.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli">module aurelia-cli</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.CLI">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>CLI
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.CLIOptions">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>CLIOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.Project">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>Project
            <span class="apidocSignatureSpan">(ui, dir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.ProjectItem">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>ProjectItem
            <span class="apidocSignatureSpan">(name, isDirectory)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.UI">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>UI
            <span class="apidocSignatureSpan">{{signature}}</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.async">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>async
            <span class="apidocSignatureSpan">(x, opts, cb)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>build</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>cli</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>cli_options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>dependencies</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>file_system</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>index</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>mkdirp</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>npm</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>project</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>project_item</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>project_template</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>string</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>ui</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>workflow_engine</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.</span>yarn</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.async">module aurelia-cli.async</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.async.async">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>async
            <span class="apidocSignatureSpan">(x, opts, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.async.isCore">
            function <span class="apidocSignatureSpan">aurelia-cli.async.</span>isCore
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.async.sync">
            function <span class="apidocSignatureSpan">aurelia-cli.async.</span>sync
            <span class="apidocSignatureSpan">(x, opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.async.</span>core</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.build">module aurelia-cli.build</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.build.bundle">
            function <span class="apidocSignatureSpan">aurelia-cli.build.</span>bundle
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.build.createLoaderCode">
            function <span class="apidocSignatureSpan">aurelia-cli.build.</span>createLoaderCode
            <span class="apidocSignatureSpan">(p)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.build.createLoaderConfig">
            function <span class="apidocSignatureSpan">aurelia-cli.build.</span>createLoaderConfig
            <span class="apidocSignatureSpan">(p)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.build.dest">
            function <span class="apidocSignatureSpan">aurelia-cli.build.</span>dest
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.build.src">
            function <span class="apidocSignatureSpan">aurelia-cli.build.</span>src
            <span class="apidocSignatureSpan">(p)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.cli">module aurelia-cli.cli</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.cli.CLI">
            function <span class="apidocSignatureSpan">aurelia-cli.cli.</span>CLI
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.cli_options">module aurelia-cli.cli_options</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.cli_options.CLIOptions">
            function <span class="apidocSignatureSpan">aurelia-cli.cli_options.</span>CLIOptions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.dependencies">module aurelia-cli.dependencies</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.dependencies.getSupportedVersion">
            function <span class="apidocSignatureSpan">aurelia-cli.dependencies.</span>getSupportedVersion
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.file_system">module aurelia-cli.file_system</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.copySync">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>copySync
            <span class="apidocSignatureSpan">(sourceFile, targetFile)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.exists">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>exists
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.existsSync">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>existsSync
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.join">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>join
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.mkdir">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>mkdir
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.mkdirp">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>mkdirp
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.readFile">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>readFile
            <span class="apidocSignatureSpan">(path, encoding)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.readFileSync">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>readFileSync
            <span class="apidocSignatureSpan">(path, encoding)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.readdir">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>readdir
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.readdirSync">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>readdirSync
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.resolve">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>resolve
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.stat">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>stat
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.statSync">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>statSync
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.file_system.writeFile">
            function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>writeFile
            <span class="apidocSignatureSpan">(path, content, encoding)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.index">module aurelia-cli.index</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">aurelia-cli.index.</span>enabled</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">aurelia-cli.index.</span>supportsColor</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.index.setTheme">
            function <span class="apidocSignatureSpan">aurelia-cli.index.</span>setTheme
            <span class="apidocSignatureSpan">(theme)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.index.strip">
            function <span class="apidocSignatureSpan">aurelia-cli.index.</span>strip
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.index.stripColors">
            function <span class="apidocSignatureSpan">aurelia-cli.index.</span>stripColors
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.index.stylize">
            function <span class="apidocSignatureSpan">aurelia-cli.index.</span>stylize
            <span class="apidocSignatureSpan">(str, style)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.index.</span>styles</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">aurelia-cli.index.</span>themes</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.logger">module aurelia-cli.logger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.logger.Logger">
            function <span class="apidocSignatureSpan">aurelia-cli.logger.</span>Logger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.mkdirp">module aurelia-cli.mkdirp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.mkdirp.mkdirp">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>mkdirp
            <span class="apidocSignatureSpan">(p, opts, f, made)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.npm">module aurelia-cli.npm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.npm.NPM">
            function <span class="apidocSignatureSpan">aurelia-cli.npm.</span>NPM
            <span class="apidocSignatureSpan">(packages, npmOptions)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.project">module aurelia-cli.project</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.project.Project">
            function <span class="apidocSignatureSpan">aurelia-cli.project.</span>Project
            <span class="apidocSignatureSpan">(ui, dir)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.project_item">module aurelia-cli.project_item</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.project_item.ProjectItem">
            function <span class="apidocSignatureSpan">aurelia-cli.project_item.</span>ProjectItem
            <span class="apidocSignatureSpan">(name, isDirectory)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.project_template">module aurelia-cli.project_template</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.project_template.ProjectTemplate">
            function <span class="apidocSignatureSpan">aurelia-cli.project_template.</span>ProjectTemplate
            <span class="apidocSignatureSpan">(model, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.string">module aurelia-cli.string</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.string.buildFromMetadata">
            function <span class="apidocSignatureSpan">aurelia-cli.string.</span>buildFromMetadata
            <span class="apidocSignatureSpan">(metadata, width)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.string.createLines">
            function <span class="apidocSignatureSpan">aurelia-cli.string.</span>createLines
            <span class="apidocSignatureSpan">(text, currentIndent, width)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.string.lowerCamelCase">
            function <span class="apidocSignatureSpan">aurelia-cli.string.</span>lowerCamelCase
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.string.sluggify">
            function <span class="apidocSignatureSpan">aurelia-cli.string.</span>sluggify
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.string.upperCamelCase">
            function <span class="apidocSignatureSpan">aurelia-cli.string.</span>upperCamelCase
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.ui">module aurelia-cli.ui</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.ui.ConsoleUI">
            function <span class="apidocSignatureSpan">aurelia-cli.ui.</span>ConsoleUI
            <span class="apidocSignatureSpan">(cliOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.ui.UI">
            function <span class="apidocSignatureSpan">aurelia-cli.ui.</span>UI
            <span class="apidocSignatureSpan">{{signature}}</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.workflow_engine">module aurelia-cli.workflow_engine</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.workflow_engine.WorkflowContext">
            function <span class="apidocSignatureSpan">aurelia-cli.workflow_engine.</span>WorkflowContext
            <span class="apidocSignatureSpan">(workflow, state, resolve, reject)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.workflow_engine.WorkflowEngine">
            function <span class="apidocSignatureSpan">aurelia-cli.workflow_engine.</span>WorkflowEngine
            <span class="apidocSignatureSpan">(definition, container)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.aurelia-cli.yarn">module aurelia-cli.yarn</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.yarn.yarn">
            function <span class="apidocSignatureSpan">aurelia-cli.</span>yarn
            <span class="apidocSignatureSpan">(packages)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.aurelia-cli.yarn.default">
            function <span class="apidocSignatureSpan">aurelia-cli.yarn.</span>default
            <span class="apidocSignatureSpan">(packages)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli" id="apidoc.module.aurelia-cli">module aurelia-cli</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.CLI" id="apidoc.element.aurelia-cli.CLI">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>CLI
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor(options) {
    this.options = options || new CLIOptions();
    this.container = new Container();
    this.ui = new ui.ConsoleUI(this.options);
    this.configureContainer();
  }

  run(cmd, args) {
    if (cmd === &#x27;--version&#x27; || cmd === &#x27;-v&#x27;) {
      return this.ui.log(require(&#x27;../package.json&#x27;).version);
    }

    return this._establishProject(this.options)
      .then(project =&#x3e; {
        if (project) {
          this.project = project;
          this.container.registerInstance(Project, project);
        }

        return this.createCommand(cmd, args);
      })
      .then((command) =&#x3e; {
        this.configureLogger();

        return command.execute(args);
      });
  }

  configureLogger() {
    LogManager.addAppender(this.container.get(Logger));
    let level = CLIOptions.hasFlag(&#x27;debug&#x27;) ? LogManager.logLevel.debug : LogManager.logLevel.info;
    LogManager.setLevel(level);
  }

  configureContainer() {
    this.container.registerInstance(CLIOptions, this.options);
    this.container.registerInstance(ui.UI, this.ui);
  }

  createCommand(commandText, commandArgs) {
    return new Promise((resolve, reject) =&#x3e; {
      if (!commandText) {
        resolve(this.createHelpCommand());
        return;
      }

      let parts = commandText.split(&#x27;:&#x27;);
      let commandModule = parts[0];
      let commandName = parts[1] || &#x27;default&#x27;;

      try {
        let alias = require(&#x27;./commands/alias.json&#x27;)[commandModule];
        let found = this.container.get(require(`./commands/${alias || commandModule}/command`));
        Object.assign(this.options, { args: commandArgs });
        resolve(found);
      } catch (e) {
        if (this.project) {
          this.project.resolveTask(commandModule).then(taskPath =&#x3e; {
            if (taskPath) {
              Object.assign(this.options, {
                taskPath: taskPath,
                args: commandArgs,
                commandName: commandName
              });

              resolve(this.container.get(require(&#x27;./commands/gulp&#x27;)));
            } else {
              this.ui.log(`Invalid Command: ${commandText}`);
              resolve(this.createHelpCommand());
            }
          });
        } else {
          this.ui.log(`Invalid Command: ${commandText}`);
          resolve(this.createHelpCommand());
        }
      }
    });
  }

  createHelpCommand() {
    return this.container.get(require(&#x27;./commands/help/command&#x27;));
  }

  _establishProject(options) {
    if (!options.runningLocally) {
      return Promise.resolve();
    }

    return determineWorkingDirectory(process.cwd())
      .then(dir =&#x3e; dir ? Project.establish(this.ui, dir) : this.ui.log(&#x27;No Aurelia project found.&#x27;));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.CLIOptions" id="apidoc.element.aurelia-cli.CLIOptions">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>CLIOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor() {
    exports.CLIOptions.instance = this;
  }

  getEnvironment() {
    let NODE_ENV;
    let env = this.getFlagValue(&#x27;env&#x27;) || (process.env.NODE_ENV ? NODE_ENV = process.env.NODE_ENV : undefined) || &#x27;dev&#x27;;
    if (NODE_ENV) {
      console.log(`The selected Node Environment (${NODE_ENV}) is not a preconfigured option (&#x27;dev&#x27;, &#x27;stage&#x27;, and &#x27;prod&#x27;)`);
    }
    return env;
  }

  hasFlag(name, shortcut) {
    if (this.args) {
      let lookup = &#x27;--&#x27; + name;
      let found = this.args.indexOf(lookup) !== -1;

      if (found) {
        return true;
      }

      lookup = shortcut || (&#x27;-&#x27; + name[0]);
      found = this.args.indexOf(lookup) !== -1;

      if (found) {
        return true;
      }

      lookup = &#x27;-&#x27; + name;
      return this.args.indexOf(lookup) !== -1;
    }

    return false;
  }

  getFlagValue(name, shortcut) {
    if (this.args) {
      let lookup = &#x27;--&#x27; + name;
      let index = this.args.indexOf(lookup);

      if (index !== -1) {
        return this.args[index + 1] || null;
      }

      lookup = shortcut || (&#x27;-&#x27; + name[0]);
      index = this.args.indexOf(lookup);

      if (index !== -1) {
        return this.args[index + 1] || null;
      }

      lookup = &#x27;-&#x27; + name;
      index = this.args.indexOf(lookup);

      if (index !== -1) {
        return this.args[index + 1] || null;
      }

      return null;
    }

    return null;
  }

  static hasFlag(name, shortcut) {
    return exports.CLIOptions.instance.hasFlag(name, shortcut);
  }

  static getFlagValue(name, shortcut) {
    return exports.CLIOptions.instance.getFlagValue(name, shortcut);
  }

  static getEnvironment() {
    return exports.CLIOptions.instance.getEnvironment();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.Project" id="apidoc.element.aurelia-cli.Project">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>Project
        <span class="apidocSignatureSpan">(ui, dir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  static establish(ui, dir) {
    process.chdir(dir);

    return fs.readFile(path.join(dir, &#x27;aurelia_project&#x27;, &#x27;aurelia.json&#x27;)).then(model =&#x3e; {
      return fs.readFile(path.join(dir, &#x27;package.json&#x27;)).then(pack =&#x3e; {
        return new exports.Project(ui, dir, JSON.parse(model.toString()), JSON.parse(pack.toString()));
      });
    });
  }

  constructor(ui, directory, model, pack) {
    this.ui = ui;
    this.directory = directory;
    this.model = model;
    this.package = pack;
    this.taskDirectory = path.join(directory, &#x27;aurelia_project/tasks&#x27;);
    this.generatorDirectory = path.join(directory, &#x27;aurelia_project/generators&#x27;);
    this.aureliaJSONPath = path.join(directory, &#x27;aurelia_project&#x27;, &#x27;aurelia.json&#x27;);

    this.locations = Object.keys(model.paths).map(key =&#x3e; this[key] = ProjectItem.directory(model.paths[key]));
    this.locations.push(this.generators = ProjectItem.directory(&#x27;aurelia_project/generators&#x27;));
    this.locations.push(this.tasks = ProjectItem.directory(&#x27;aurelia_project/tasks&#x27;));
  }

  commitChanges() {
    return Promise.all(this.locations.map(x =&#x3e; x.create(this.ui, this.directory)));
  }

  makeFileName(name) {
    return string.sluggify(name);
  }

  makeClassName(name) {
    return string.upperCamelCase(name);
  }

  makeFunctionName(name) {
    return string.lowerCamelCase(name);
  }

  installTranspiler() {
    switch (this.model.transpiler.id) {
    case &#x27;babel&#x27;:
      installBabel();
      break;
    case &#x27;typescript&#x27;:
      installTypeScript();
      break;
    default:
      throw new Error(`${this.model.transpiler.displayName} is not a supported transpiler.`);
    }
  }

  getExport(m, name) {
    return name ? m[name] : m.default;
  }

  getGeneratorMetadata() {
    return getMetadata(this.generatorDirectory);
  }

  getTaskMetadata() {
    return getMetadata(this.taskDirectory);
  }

  resolveGenerator(name) {
    let potential = path.join(this.generatorDirectory, `${name}${this.model.transpiler.fileExtension}`);
    return fs.stat(potential).then(() =&#x3e; potential).catch(() =&#x3e; null);
  }

  resolveTask(name) {
    let potential = path.join(this.taskDirectory, `${name}${this.model.transpiler.fileExtension}`);
    return fs.stat(potential).then(() =&#x3e; potential).catch(() =&#x3e; null);
  }

  addDependency(bundle, dependency) {
    if (!bundle.dependencies) {
      bundle.dependencies = [];
    }

    bundle.dependencies.push(dependency);
  }

  addOrReplaceDependency(bundle, dependency) {
    let name = (dependency.name || dependency);
    if (this.hasDependency(bundle, name)) {
      this.replaceDependency(bundle, this.getDependency(bundle, name), dependency);
    } else {
      this.addDependency(bundle, dependency);
    }
  }

  replaceDependency(bundle, oldDependency, newDependency) {
    let index = bundle.dependencies.indexOf(oldDependency);

    bundle.dependencies[index] = newDependency;
  }

  removeDependency(bundle, dependency) {
    let index = bundle.dependencies.indexOf(dependency);

    bundle.dependencies.splice(index, 1);
  }

  getDependency(bundle, name) {
    return (bundle.dependencies || []).find(item =&#x3e; (item.name || item) === name);
  }

  hasDependency(bundle, name) {
    return this.getDependency(bundle, name) !== undefined;
  }

  hasBundle(bundleName) {
    return this.getBundle(bundleName) !== undefined;
  }

  getBundle(bundleName) {
    let bundles = this.model.build.bundles;
    return bundles.find(item =&#x3e; item.name === bundleName);
  }

  addBundle(bundle) {
    let bundles = this.model.build.bundles;

    bundles.push(bundle);
  }

  removeBundle(bundle) {
    let bundles = this.model.build.bundles;
    let index = bundles.indexOf(bundle);

    bundles.splice(index, 1);
  }

  replaceBundle(oldBundle, newBundle) {
    let bundles = this.model.build.bundles;
    let index = bundles.indexOf(oldBundle);

    bundles[index] = newBundle;
  }

  getDefaultBundle() {
    let bundles = this.model.build.bundles;

    if (bundles.length === 0) {
      throw new Error(&#x27;There are no bundles in aurelia.json. Please create one&#x27;);
    }

    return this.getLargestB ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.Project = class {
static establish(ui, dir) {
  process.chdir(dir);

  return fs.readFile(path.join(dir, &#x27;aurelia_project&#x27;, &#x27;aurelia.json&#x27;)).then(model =&#x3e; {
    return fs.readFile(path.join(dir, &#x27;package.json&#x27;)).then(pack =&#x3e; {
      return new exports.<span class="apidocCodeKeywordSpan">Project</span>(ui, dir, JSON.parse(model.toString()), JSON.parse(pack
.toString()));
    });
  });
}

constructor(ui, directory, model, pack) {
  this.ui = ui;
  this.directory = directory;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.ProjectItem" id="apidoc.element.aurelia-cli.ProjectItem">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>ProjectItem
        <span class="apidocSignatureSpan">(name, isDirectory)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor(name, isDirectory) {
    this.name = name;
    this.isDirectory = !!isDirectory;
    this._fileExistsStrategy = &#x27;replace&#x27;;
  }

  get children() {
    if (!this._children) {
      this._children = [];
    }

    return this._children;
  }

  get transformers() {
    if (!this._transformers) {
      this._transformers = [];
    }

    return this._transformers;
  }

  skipIfExists() {
    this._fileExistsStrategy = &#x27;skip&#x27;;
    return this;
  }

  mergeIfExists() {
    this._fileExistsStrategy = &#x27;merge&#x27;;
    return this;
  }

  askUserIfExists() {
    this._fileExistsStrategy = &#x27;ask&#x27;;
    return this;
  }

  add() {
    if (!this.isDirectory) {
      throw new Error(&#x27;You cannot add items to a non-directory.&#x27;);
    }

    for (let i = 0; i &#x3c; arguments.length; ++i) {
      let child = arguments[i];

      if (this.children.indexOf(child) !== -1) {
        continue;
      }

      child.parent = this;
      this.children.push(child);
    }

    return this;
  }

  calculateRelativePath(fromLocation) {
    if (this === fromLocation) {
      return &#x27;&#x27;;
    }

    let parentRelativePath = (this.parent &#x26;&#x26; this.parent !== fromLocation)
      ? this.parent.calculateRelativePath(fromLocation)
      : &#x27;&#x27;;

    return path.posix.join(parentRelativePath, this.name);
  }

  setJSONObject(jsonObject) {
    this.jsonObject = jsonObject;
    return this;
  }

  setText(text) {
    this.text = text;
    return this;
  }

  setSourcePath(p) {
    this.sourcePath = p;
    return this;
  }

  transformWith(callback) {
    this.transformers.push(callback);
    return this;
  }

  create(ui, relativeTo) {
    let fullPath = relativeTo ? path.posix.join(relativeTo, this.name) : this.name;

    if (this.isDirectory) {
      return fs.stat(fullPath)
        .then(result =&#x3e; result)
        .catch(() =&#x3e; fs.mkdir(fullPath))
        .then(() =&#x3e; Promise.all(this.children.map(child =&#x3e;
          child.create(ui, fullPath)
        )));
    } else if (this.sourcePath) {
      return fs.readFile(this.sourcePath).then(data =&#x3e; {
        return this._write(fullPath, data, ui);
      });
    } else if (this.jsonObject) {
      return this._write(fullPath, JSON.stringify(this.jsonObject, null, 2), ui);
    } else if (this.text) {
      return this._write(fullPath, this.text, ui);
    }

    return Promise.resolve();
  }

  _write(fullPath, content, ui) {
    for (let i = 0, ii = this.transformers.length; i &#x3c; ii; ++i) {
      content = this.transformers[i](content);
    }

    return fs.stat(fullPath).then(() =&#x3e; {
      switch (this._fileExistsStrategy) {
      case &#x27;skip&#x27;:
        return Promise.resolve();
      case &#x27;merge&#x27;:
        if (this.name === &#x27;package.json&#x27;) {
          return fs.readFile(fullPath).then(data =&#x3e; {
            let json = JSON.parse(data.toString());
            let merged = mergePackageJson(json, this.jsonObject);
            return fs.writeFile(fullPath, JSON.stringify(merged, null, 2));
          });
        }
        throw new Error(`cannot merge ${this.name}`);
      case &#x27;ask&#x27;:
        let question = `An existing file named &#x27;${this.name}&#x27; was found. What would you like to do?`;
        let options = [
          {
            displayName: &#x27;Keep It&#x27;,
            description: &#x27;Keeps your existing file. You may need to update its contents to work with Aurelia.&#x27;
          },
          {
            displayName: &#x27;Replace It&#x27;,
            description: &#x27;Replaces the existing file with a new one designed for Aurelia.&#x27;
          }
        ];

        return ui.question(question, options).then(answer =&#x3e; {
          if (answer === options[0]) {
            return Promise.resolve();
          }

          return fs.writeFile(fullPath, content);
        });
      default:
        return fs.writeFile(fullPath, content);
      }
    }).catch(() =&#x3e; fs.writeFile(fullPath, content));
  }

  static jsonObject(name, jsonObject) {
    return new exports.ProjectItem(name, false).setJSONObject(jsonObject);
  }

  static text(name, text) {
    return new exports.ProjectItem(name, false).setText(text);
  }

  static resource(name, resourc ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    default:
      return fs.writeFile(fullPath, content);
    }
  }).catch(() =&#x3e; fs.writeFile(fullPath, content));
}

static jsonObject(name, jsonObject) {
  return new exports.<span class="apidocCodeKeywordSpan">ProjectItem</span>(name, false).setJSONObject(jsonObject);
}

static text(name, text) {
  return new exports.ProjectItem(name, false).setText(text);
}

static resource(name, resourcePath, extensionOrConfig) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.UI" id="apidoc.element.aurelia-cli.UI">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>UI
        <span class="apidocSignatureSpan">{{signature}}</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.async" id="apidoc.element.aurelia-cli.async">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>async
        <span class="apidocSignatureSpan">(x, opts, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolve(x, opts, cb) {
    if (typeof opts === &#x27;function&#x27;) {
        cb = opts;
        opts = {};
    }
    if (!opts) opts = {};
    if (typeof x !== &#x27;string&#x27;) {
        return process.nextTick(function () {
            cb(new Error(&#x27;path must be a string&#x27;));
        });
    }

    var isFile = opts.isFile || function (file, cb) {
        fs.stat(file, function (err, stat) {
            if (err &#x26;&#x26; err.code === &#x27;ENOENT&#x27;) cb(null, false)
            else if (err) cb(err)
            else cb(null, stat.isFile() || stat.isFIFO())
        });
    };
    var readFile = opts.readFile || fs.readFile;

    var extensions = opts.extensions || [ &#x27;.js&#x27; ];
    var y = opts.basedir || path.dirname(caller());

    opts.paths = opts.paths || [];

    if (/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)) {
        var res = path.resolve(y, x);
        if (x === &#x27;..&#x27;) res += &#x27;/&#x27;;
        if (/\/$/.test(x) &#x26;&#x26; res === y) {
            loadAsDirectory(res, opts.package, onfile);
        }
        else loadAsFile(res, opts.package, onfile);
    }
    else loadNodeModules(x, y, function (err, n, pkg) {
        if (err) cb(err)
        else if (n) cb(null, n, pkg)
        else if (core[x]) return cb(null, x);
        else cb(new Error(&#x22;Cannot find module &#x27;&#x22; + x + &#x22;&#x27; from &#x27;&#x22; + y + &#x22;&#x27;&#x22;))
    });

    function onfile (err, m, pkg) {
        if (err) cb(err)
        else if (m) cb(null, m, pkg)
        else loadAsDirectory(res, function (err, d, pkg) {
            if (err) cb(err)
            else if (d) cb(null, d, pkg)
            else cb(new Error(&#x22;Cannot find module &#x27;&#x22; + x + &#x22;&#x27; from &#x27;&#x22; + y + &#x22;&#x27;&#x22;))
        })
    }

    function loadAsFile (x, pkg, cb) {
        if (typeof pkg === &#x27;function&#x27;) {
            cb = pkg;
            pkg = undefined;
        }

        var exts = [&#x27;&#x27;].concat(extensions);
        load(exts, x, pkg)
		
		function load (exts, x, pkg) {
            if (exts.length === 0) return cb(null, undefined, pkg);
            var file = x + exts[0];

            if (pkg) onpkg(null, pkg)
            else loadpkg(path.dirname(file), onpkg);

            function onpkg (err, pkg_, dir) {
                pkg = pkg_;
                if (err) return cb(err)
                if (dir &#x26;&#x26; pkg &#x26;&#x26; opts.pathFilter) {
                    var rfile = path.relative(dir, file);
                    var rel = rfile.slice(0, rfile.length - exts[0].length);
                    var r = opts.pathFilter(pkg, x, rel);
                    if (r) return load(
                        [&#x27;&#x27;].concat(extensions.slice()),
                        path.resolve(dir, r),
                        pkg
                    );
                }
                isFile(file, onex);
            }
            function onex (err, ex) {
                if (err) cb(err)
                else if (!ex) load(exts.slice(1), x, pkg)
                else cb(null, file, pkg)
            }
        }
    }

    function loadpkg (dir, cb) {
        if (dir === &#x27;&#x27; || dir === &#x27;/&#x27;) return cb(null);
        if (process.platform === &#x27;win32&#x27; &#x26;&#x26; /^\w:[\\\/]*$/.test(dir)) {
            return cb(null);
        }
        if (/[\\\/]node_modules[\\\/]*$/.test(dir)) return cb(null);

        var pkgfile = path.join(dir, &#x27;package.json&#x27;);
        isFile(pkgfile, function (err, ex) {
            // on err, ex is false
            if (!ex) return loadpkg(
                path.dirname(dir), cb
            );

            readFile(pkgfile, function (err, body) {
                if (err) cb(err);
                try { var pkg = JSON.parse(body) }
                catch (err) {}

                if (pkg &#x26;&#x26; opts.packageFilter) {
                    pkg = opts.packageFilter(pkg, pkgfile);
                }
                cb(null, pkg, dir);
            });
        });
    }

    function loadAsDirectory (x, fpkg, cb) {
        if (typeof fpkg === &#x27;function&#x27;) {
            cb = fpkg;
            fpkg = opts.package;
        }

        var pkgfile = path.join(x, &#x27;/package.json&#x27;);
        isFile(pk ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.async" id="apidoc.module.aurelia-cli.async">module aurelia-cli.async</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.async.async" id="apidoc.element.aurelia-cli.async.async">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>async
        <span class="apidocSignatureSpan">(x, opts, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolve(x, opts, cb) {
    if (typeof opts === &#x27;function&#x27;) {
        cb = opts;
        opts = {};
    }
    if (!opts) opts = {};
    if (typeof x !== &#x27;string&#x27;) {
        return process.nextTick(function () {
            cb(new Error(&#x27;path must be a string&#x27;));
        });
    }

    var isFile = opts.isFile || function (file, cb) {
        fs.stat(file, function (err, stat) {
            if (err &#x26;&#x26; err.code === &#x27;ENOENT&#x27;) cb(null, false)
            else if (err) cb(err)
            else cb(null, stat.isFile() || stat.isFIFO())
        });
    };
    var readFile = opts.readFile || fs.readFile;

    var extensions = opts.extensions || [ &#x27;.js&#x27; ];
    var y = opts.basedir || path.dirname(caller());

    opts.paths = opts.paths || [];

    if (/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)) {
        var res = path.resolve(y, x);
        if (x === &#x27;..&#x27;) res += &#x27;/&#x27;;
        if (/\/$/.test(x) &#x26;&#x26; res === y) {
            loadAsDirectory(res, opts.package, onfile);
        }
        else loadAsFile(res, opts.package, onfile);
    }
    else loadNodeModules(x, y, function (err, n, pkg) {
        if (err) cb(err)
        else if (n) cb(null, n, pkg)
        else if (core[x]) return cb(null, x);
        else cb(new Error(&#x22;Cannot find module &#x27;&#x22; + x + &#x22;&#x27; from &#x27;&#x22; + y + &#x22;&#x27;&#x22;))
    });

    function onfile (err, m, pkg) {
        if (err) cb(err)
        else if (m) cb(null, m, pkg)
        else loadAsDirectory(res, function (err, d, pkg) {
            if (err) cb(err)
            else if (d) cb(null, d, pkg)
            else cb(new Error(&#x22;Cannot find module &#x27;&#x22; + x + &#x22;&#x27; from &#x27;&#x22; + y + &#x22;&#x27;&#x22;))
        })
    }

    function loadAsFile (x, pkg, cb) {
        if (typeof pkg === &#x27;function&#x27;) {
            cb = pkg;
            pkg = undefined;
        }

        var exts = [&#x27;&#x27;].concat(extensions);
        load(exts, x, pkg)
		
		function load (exts, x, pkg) {
            if (exts.length === 0) return cb(null, undefined, pkg);
            var file = x + exts[0];

            if (pkg) onpkg(null, pkg)
            else loadpkg(path.dirname(file), onpkg);

            function onpkg (err, pkg_, dir) {
                pkg = pkg_;
                if (err) return cb(err)
                if (dir &#x26;&#x26; pkg &#x26;&#x26; opts.pathFilter) {
                    var rfile = path.relative(dir, file);
                    var rel = rfile.slice(0, rfile.length - exts[0].length);
                    var r = opts.pathFilter(pkg, x, rel);
                    if (r) return load(
                        [&#x27;&#x27;].concat(extensions.slice()),
                        path.resolve(dir, r),
                        pkg
                    );
                }
                isFile(file, onex);
            }
            function onex (err, ex) {
                if (err) cb(err)
                else if (!ex) load(exts.slice(1), x, pkg)
                else cb(null, file, pkg)
            }
        }
    }

    function loadpkg (dir, cb) {
        if (dir === &#x27;&#x27; || dir === &#x27;/&#x27;) return cb(null);
        if (process.platform === &#x27;win32&#x27; &#x26;&#x26; /^\w:[\\\/]*$/.test(dir)) {
            return cb(null);
        }
        if (/[\\\/]node_modules[\\\/]*$/.test(dir)) return cb(null);

        var pkgfile = path.join(dir, &#x27;package.json&#x27;);
        isFile(pkgfile, function (err, ex) {
            // on err, ex is false
            if (!ex) return loadpkg(
                path.dirname(dir), cb
            );

            readFile(pkgfile, function (err, body) {
                if (err) cb(err);
                try { var pkg = JSON.parse(body) }
                catch (err) {}

                if (pkg &#x26;&#x26; opts.packageFilter) {
                    pkg = opts.packageFilter(pkg, pkgfile);
                }
                cb(null, pkg, dir);
            });
        });
    }

    function loadAsDirectory (x, fpkg, cb) {
        if (typeof fpkg === &#x27;function&#x27;) {
            cb = fpkg;
            fpkg = opts.package;
        }

        var pkgfile = path.join(x, &#x27;/package.json&#x27;);
        isFile(pk ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.async.isCore" id="apidoc.element.aurelia-cli.async.isCore">
        function <span class="apidocSignatureSpan">aurelia-cli.async.</span>isCore
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCore = function (x) { return core[x]; }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.async.sync" id="apidoc.element.aurelia-cli.async.sync">
        function <span class="apidocSignatureSpan">aurelia-cli.async.</span>sync
        <span class="apidocSignatureSpan">(x, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sync = function (x, opts) {
    if (!opts) opts = {};
    var isFile = opts.isFile || function (file) {
        try { var stat = fs.statSync(file) }
        catch (err) { if (err &#x26;&#x26; err.code === &#x27;ENOENT&#x27;) return false }
        return stat.isFile() || stat.isFIFO();
    };
    var readFileSync = opts.readFileSync || fs.readFileSync;

    var extensions = opts.extensions || [ &#x27;.js&#x27; ];
    var y = opts.basedir || path.dirname(caller());

    opts.paths = opts.paths || [];

    if (/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[\\\/])/.test(x)) {
        var res = path.resolve(y, x);
        if (x === &#x27;..&#x27;) res += &#x27;/&#x27;;
        var m = loadAsFileSync(res) || loadAsDirectorySync(res);
        if (m) return m;
    } else {
        var n = loadNodeModulesSync(x, y);
        if (n) return n;
    }

    if (core[x]) return x;

    throw new Error(&#x22;Cannot find module &#x27;&#x22; + x + &#x22;&#x27; from &#x27;&#x22; + y + &#x22;&#x27;&#x22;);

    function loadAsFileSync (x) {
        if (isFile(x)) {
            return x;
        }

        for (var i = 0; i &#x3c; extensions.length; i++) {
            var file = x + extensions[i];
            if (isFile(file)) {
                return file;
            }
        }
    }

    function loadAsDirectorySync (x) {
        var pkgfile = path.join(x, &#x27;/package.json&#x27;);
        if (isFile(pkgfile)) {
            var body = readFileSync(pkgfile, &#x27;utf8&#x27;);
            try {
                var pkg = JSON.parse(body);
                if (opts.packageFilter) {
                    pkg = opts.packageFilter(pkg, x);
                }

                if (pkg.main) {
                    var m = loadAsFileSync(path.resolve(x, pkg.main));
                    if (m) return m;
                    var n = loadAsDirectorySync(path.resolve(x, pkg.main));
                    if (n) return n;
                }
            }
            catch (err) {}
        }

        return loadAsFileSync(path.join( x, &#x27;/index&#x27;));
    }

    function loadNodeModulesSync (x, start) {
        var dirs = nodeModulesPaths(start, opts);
        for (var i = 0; i &#x3c; dirs.length; i++) {
            var dir = dirs[i];
            var m = loadAsFileSync(path.join( dir, &#x27;/&#x27;, x));
            if (m) return m;
            var n = loadAsDirectorySync(path.join( dir, &#x27;/&#x27;, x ));
            if (n) return n;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.build" id="apidoc.module.aurelia-cli.build">module aurelia-cli.build</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.build.bundle" id="apidoc.element.aurelia-cli.build.bundle">
        function <span class="apidocSignatureSpan">aurelia-cli.build.</span>bundle
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bundle = function () {
  return through.obj(function(file, encoding, callback) {
    callback(null, capture(file));
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
import changedInPlace from &#x27;gulp-changed-in-place&#x27;;
import project from &#x27;../aurelia.json&#x27;;
import {build} from &#x27;aurelia-cli&#x27;;

export default function processCSS() {
  return gulp.src(project.cssProcessor.source)
    .pipe(changedInPlace({firstPass: true}))
    .pipe(build.<span class="apidocCodeKeywordSpan">bundle</span>());
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.build.createLoaderCode" id="apidoc.element.aurelia-cli.build.createLoaderCode">
        function <span class="apidocSignatureSpan">aurelia-cli.build.</span>createLoaderCode
        <span class="apidocSignatureSpan">(p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createLoaderCode = function (p) {
  const createLoaderCode = require(&#x27;./loader&#x27;).createLoaderCode;
  project = p || project;
  return buildLoaderConfig(project)
      .then(() =&#x3e; {
        let platform = project.build.targets[0];
        return createLoaderCode(platform, bundler);
      });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.build.createLoaderConfig" id="apidoc.element.aurelia-cli.build.createLoaderConfig">
        function <span class="apidocSignatureSpan">aurelia-cli.build.</span>createLoaderConfig
        <span class="apidocSignatureSpan">(p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createLoaderConfig = function (p) {
  const createLoaderConfig = require(&#x27;./loader&#x27;).createLoaderConfig;
  project = p || project;

  return buildLoaderConfig(project)
      .then(() =&#x3e; {
        let platform = project.build.targets[0];
        return createLoaderConfig(platform, bundler);
      });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.build.dest" id="apidoc.element.aurelia-cli.build.dest">
        function <span class="apidocSignatureSpan">aurelia-cli.build.</span>dest
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dest = function () {
  return bundler.build()
    .then(() =&#x3e; bundler.write());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var fs = require(&#x27;fs&#x27;);
var bump = require(&#x27;gulp-bump&#x27;);
var args = require(&#x27;../args&#x27;);

gulp.task(&#x27;bump-version&#x27;, function(){
return gulp.src([&#x27;./package.json&#x27;, &#x27;./bower.json&#x27;])
  .pipe(bump({type:args.bump })) //major|minor|patch|prerelease
  .pipe(gulp.<span class="apidocCodeKeywordSpan">dest</span>(&#x27;./&#x27;));
});

gulp.task(&#x27;changelog&#x27;, function () {
return gulp.src(paths.doc + &#x27;/CHANGELOG.md&#x27;, {
  buffer: false
}).pipe(conventionalChangelog({
  preset: &#x27;angular&#x27;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.build.src" id="apidoc.element.aurelia-cli.build.src">
        function <span class="apidocSignatureSpan">aurelia-cli.build.</span>src
        <span class="apidocSignatureSpan">(p)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">src = function (p) {
  if (bundler) {
    isUpdating = true;
    return Promise.resolve(bundler);
  }

  through = require(&#x27;through2&#x27;); //dep of vinyl-fs
  project = p;
  return Bundler.create(project, new PackageAnalyzer(project)).then(b =&#x3e; bundler = b);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


var gulp = require(&#x27;gulp&#x27;);
var paths = require(&#x27;../paths&#x27;);
var eslint = require(&#x27;gulp-eslint&#x27;);

gulp.task(&#x27;lint&#x27;, function() {
  return gulp.<span class="apidocCodeKeywordSpan">src</span>(paths.source)
    .pipe(eslint())
    .pipe(eslint.format())
    .pipe(eslint.failOnError());
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.cli" id="apidoc.module.aurelia-cli.cli">module aurelia-cli.cli</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.cli.CLI" id="apidoc.element.aurelia-cli.cli.CLI">
        function <span class="apidocSignatureSpan">aurelia-cli.cli.</span>CLI
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor(options) {
    this.options = options || new CLIOptions();
    this.container = new Container();
    this.ui = new ui.ConsoleUI(this.options);
    this.configureContainer();
  }

  run(cmd, args) {
    if (cmd === &#x27;--version&#x27; || cmd === &#x27;-v&#x27;) {
      return this.ui.log(require(&#x27;../package.json&#x27;).version);
    }

    return this._establishProject(this.options)
      .then(project =&#x3e; {
        if (project) {
          this.project = project;
          this.container.registerInstance(Project, project);
        }

        return this.createCommand(cmd, args);
      })
      .then((command) =&#x3e; {
        this.configureLogger();

        return command.execute(args);
      });
  }

  configureLogger() {
    LogManager.addAppender(this.container.get(Logger));
    let level = CLIOptions.hasFlag(&#x27;debug&#x27;) ? LogManager.logLevel.debug : LogManager.logLevel.info;
    LogManager.setLevel(level);
  }

  configureContainer() {
    this.container.registerInstance(CLIOptions, this.options);
    this.container.registerInstance(ui.UI, this.ui);
  }

  createCommand(commandText, commandArgs) {
    return new Promise((resolve, reject) =&#x3e; {
      if (!commandText) {
        resolve(this.createHelpCommand());
        return;
      }

      let parts = commandText.split(&#x27;:&#x27;);
      let commandModule = parts[0];
      let commandName = parts[1] || &#x27;default&#x27;;

      try {
        let alias = require(&#x27;./commands/alias.json&#x27;)[commandModule];
        let found = this.container.get(require(`./commands/${alias || commandModule}/command`));
        Object.assign(this.options, { args: commandArgs });
        resolve(found);
      } catch (e) {
        if (this.project) {
          this.project.resolveTask(commandModule).then(taskPath =&#x3e; {
            if (taskPath) {
              Object.assign(this.options, {
                taskPath: taskPath,
                args: commandArgs,
                commandName: commandName
              });

              resolve(this.container.get(require(&#x27;./commands/gulp&#x27;)));
            } else {
              this.ui.log(`Invalid Command: ${commandText}`);
              resolve(this.createHelpCommand());
            }
          });
        } else {
          this.ui.log(`Invalid Command: ${commandText}`);
          resolve(this.createHelpCommand());
        }
      }
    });
  }

  createHelpCommand() {
    return this.container.get(require(&#x27;./commands/help/command&#x27;));
  }

  _establishProject(options) {
    if (!options.runningLocally) {
      return Promise.resolve();
    }

    return determineWorkingDirectory(process.cwd())
      .then(dir =&#x3e; dir ? Project.establish(this.ui, dir) : this.ui.log(&#x27;No Aurelia project found.&#x27;));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.cli_options" id="apidoc.module.aurelia-cli.cli_options">module aurelia-cli.cli_options</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.cli_options.CLIOptions" id="apidoc.element.aurelia-cli.cli_options.CLIOptions">
        function <span class="apidocSignatureSpan">aurelia-cli.cli_options.</span>CLIOptions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor() {
    exports.CLIOptions.instance = this;
  }

  getEnvironment() {
    let NODE_ENV;
    let env = this.getFlagValue(&#x27;env&#x27;) || (process.env.NODE_ENV ? NODE_ENV = process.env.NODE_ENV : undefined) || &#x27;dev&#x27;;
    if (NODE_ENV) {
      console.log(`The selected Node Environment (${NODE_ENV}) is not a preconfigured option (&#x27;dev&#x27;, &#x27;stage&#x27;, and &#x27;prod&#x27;)`);
    }
    return env;
  }

  hasFlag(name, shortcut) {
    if (this.args) {
      let lookup = &#x27;--&#x27; + name;
      let found = this.args.indexOf(lookup) !== -1;

      if (found) {
        return true;
      }

      lookup = shortcut || (&#x27;-&#x27; + name[0]);
      found = this.args.indexOf(lookup) !== -1;

      if (found) {
        return true;
      }

      lookup = &#x27;-&#x27; + name;
      return this.args.indexOf(lookup) !== -1;
    }

    return false;
  }

  getFlagValue(name, shortcut) {
    if (this.args) {
      let lookup = &#x27;--&#x27; + name;
      let index = this.args.indexOf(lookup);

      if (index !== -1) {
        return this.args[index + 1] || null;
      }

      lookup = shortcut || (&#x27;-&#x27; + name[0]);
      index = this.args.indexOf(lookup);

      if (index !== -1) {
        return this.args[index + 1] || null;
      }

      lookup = &#x27;-&#x27; + name;
      index = this.args.indexOf(lookup);

      if (index !== -1) {
        return this.args[index + 1] || null;
      }

      return null;
    }

    return null;
  }

  static hasFlag(name, shortcut) {
    return exports.CLIOptions.instance.hasFlag(name, shortcut);
  }

  static getFlagValue(name, shortcut) {
    return exports.CLIOptions.instance.getFlagValue(name, shortcut);
  }

  static getEnvironment() {
    return exports.CLIOptions.instance.getEnvironment();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.dependencies" id="apidoc.module.aurelia-cli.dependencies">module aurelia-cli.dependencies</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.dependencies.getSupportedVersion" id="apidoc.element.aurelia-cli.dependencies.getSupportedVersion">
        function <span class="apidocSignatureSpan">aurelia-cli.dependencies.</span>getSupportedVersion
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSupportedVersion = function (name) {
  return versionMap[name] || &#x27;latest&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.file_system" id="apidoc.module.aurelia-cli.file_system">module aurelia-cli.file_system</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.copySync" id="apidoc.element.aurelia-cli.file_system.copySync">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>copySync
        <span class="apidocSignatureSpan">(sourceFile, targetFile)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">copySync = function (sourceFile, targetFile) {
  fs.writeFileSync(targetFile, fs.readFileSync(sourceFile));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.exists" id="apidoc.element.aurelia-cli.file_system.exists">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>exists
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exists = function (path) {
  return new Promise((resolve, reject) =&#x3e; fs.exists(path, resolve));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const nodePath = require(&#x27;path&#x27;);
const mkdirp = require(&#x27;./mkdirp&#x27;).mkdirp;

exports.fs = fs;

/**
 * @deprecated
 *  fs.<span class="apidocCodeKeywordSpan">exists</span>() is deprecated.
 *  See https://nodejs.org/api/fs.html#fs_fs_exists_path_callback.
 *  Functions using it can also not be properly tested.
 */
exports.exists = function(path) {
  return new Promise((resolve, reject) =&#x3e; fs.exists(path, resolve));
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.existsSync" id="apidoc.element.aurelia-cli.file_system.existsSync">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>existsSync
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">existsSync = function (path) {
  return fs.existsSync(path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (error) reject(error);
    else resolve(stats);
  });
});
};

exports.existsSync = function(path) {
return fs.<span class="apidocCodeKeywordSpan">existsSync</span>(path);
};

exports.mkdir = function(path) {
return new Promise((resolve, reject) =&#x3e; {
  fs.mkdir(path, (error, result) =&#x3e; {
    if (error) reject(error);
    else resolve();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.join" id="apidoc.element.aurelia-cli.file_system.join">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>join
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">join = function () {
  return nodePath.join.apply(this, Array.prototype.slice.call(arguments));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  return determineWorkingDirectory(process.cwd())
    .then(dir =&#x3e; dir ? Project.establish(this.ui, dir) : this.ui.log(&#x27;No Aurelia project found.&#x27;));
}
};

function determineWorkingDirectory(dir) {
let parent = path.<span class="apidocCodeKeywordSpan">join</span>(dir, &#x27;..&#x27;);

if (parent === dir) {
  return;
}

return fs.stat(path.join(dir, &#x27;aurelia_project&#x27;))
  .then(() =&#x3e; dir)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.mkdir" id="apidoc.element.aurelia-cli.file_system.mkdir">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>mkdir
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mkdir = function (path) {
  return new Promise((resolve, reject) =&#x3e; {
    fs.mkdir(path, (error, result) =&#x3e; {
      if (error) reject(error);
      else resolve();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.existsSync = function(path) {
  return fs.existsSync(path);
};

exports.mkdir = function(path) {
  return new Promise((resolve, reject) =&#x3e; {
    fs.<span class="apidocCodeKeywordSpan">mkdir</span>(path, (error, result) =&#x3e; {
      if (error) reject(error);
      else resolve();
    });
  });
};

exports.mkdirp = function(path) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.mkdirp" id="apidoc.element.aurelia-cli.file_system.mkdirp">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>mkdirp
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mkdirp = function (path) {
  return new Promise((resolve, reject) =&#x3e; {
    mkdirp(path, error =&#x3e; {
      if (error) reject(error);
      else resolve();
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    .then(project =&#x3e; {
      expect(project).not.toBeDefined();
    })
    .catch(fail).then(done);
});

it(&#x27;calls and resolves to Project.establish()&#x27;, done =&#x3e; {
  fs.<span class="apidocCodeKeywordSpan">mkdirp</span>(path.join(process.cwd(), aureliaProject))
    .then(() =&#x3e; cli._establishProject({
      runningLocally: true
    }))
    .then(project =&#x3e; {
      expect(Project.establish)
        .toHaveBeenCalledWith(cli.ui, path.join(process.cwd()));
      expect(project).toBe(project);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.readFile" id="apidoc.element.aurelia-cli.file_system.readFile">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>readFile
        <span class="apidocSignatureSpan">(path, encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readFile = function (path, encoding) {
  return new Promise((resolve, reject) =&#x3e; {
    fs.readFile(path, encoding || &#x27;utf8&#x27;, (error, data) =&#x3e; {
      if (error) reject(error);
      else resolve(data);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.readdirSync = function(path) {
  return fs.readdirSync(path);
};

exports.readFile = function(path, encoding) {
  return new Promise((resolve, reject) =&#x3e; {
    fs.<span class="apidocCodeKeywordSpan">readFile</span>(path, encoding || &#x27;utf8&#x27;, (error, data) =&#x3e; {
      if (error) reject(error);
      else resolve(data);
    });
  });
};

exports.readFileSync = fs.readFileSync;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.readFileSync" id="apidoc.element.aurelia-cli.file_system.readFileSync">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>readFileSync
        <span class="apidocSignatureSpan">(path, encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readFileSync = function (path, encoding) {
  return fs.readFileSync(path, encoding || &#x27;utf8&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var fs = require(&#x27;fs&#x27;);

// hide warning //
var emitter = require(&#x27;events&#x27;);
emitter.defaultMaxListeners = 20;

var appRoot = &#x27;lib/&#x27;;
var pkg = JSON.parse(fs.<span class="apidocCodeKeywordSpan">readFileSync</span>(&#x27;./package.json&#x27;, &#x27;utf-8&#x27;));

var paths = {
  root: appRoot,
  source: appRoot + &#x27;**/*.js&#x27;,
  doc:&#x27;./doc&#x27;,
  packageName: pkg.name
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.readdir" id="apidoc.element.aurelia-cli.file_system.readdir">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>readdir
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readdir = function (path) {
  return new Promise((resolve, reject) =&#x3e; {
    fs.readdir(path, (error, files) =&#x3e; {
      if (error) reject(error);
      else resolve(files);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      else resolve();
    });
  });
};

exports.readdir = function(path) {
  return new Promise((resolve, reject) =&#x3e; {
    fs.<span class="apidocCodeKeywordSpan">readdir</span>(path, (error, files) =&#x3e; {
      if (error) reject(error);
      else resolve(files);
    });
  });
};

exports.readdirSync = function(path) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.readdirSync" id="apidoc.element.aurelia-cli.file_system.readdirSync">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>readdirSync
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readdirSync = function (path) {
  return fs.readdirSync(path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (error) reject(error);
    else resolve(files);
  });
});
};

exports.readdirSync = function(path) {
return fs.<span class="apidocCodeKeywordSpan">readdirSync</span>(path);
};

exports.readFile = function(path, encoding) {
return new Promise((resolve, reject) =&#x3e; {
  fs.readFile(path, encoding || &#x27;utf8&#x27;, (error, data) =&#x3e; {
    if (error) reject(error);
    else resolve(data);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.resolve" id="apidoc.element.aurelia-cli.file_system.resolve">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>resolve
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve = function (path) {
  return nodePath.resolve(path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  createHelpCommand() {
    return this.container.get(require(&#x27;./commands/help/command&#x27;));
  }

  _establishProject(options) {
    if (!options.runningLocally) {
      return Promise.<span class="apidocCodeKeywordSpan">resolve</span>();
    }

    return determineWorkingDirectory(process.cwd())
      .then(dir =&#x3e; dir ? Project.establish(this.ui, dir) : this.ui.log(&#x27;No Aurelia project found.&#x27;));
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.stat" id="apidoc.element.aurelia-cli.file_system.stat">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>stat
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stat = function (path) {
  return new Promise((resolve, reject) =&#x3e; {
    fs.stat(path, (error, stats) =&#x3e; {
      if (error) reject(error);
      else resolve(stats);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function determineWorkingDirectory(dir) {
let parent = path.join(dir, &#x27;..&#x27;);

if (parent === dir) {
  return;
}

return fs.<span class="apidocCodeKeywordSpan">stat</span>(path.join(dir, &#x27;aurelia_project&#x27;))
  .then(() =&#x3e; dir)
  .catch(() =&#x3e; determineWorkingDirectory(parent));
}

process.on(&#x27;unhandledRejection&#x27;, (reason) =&#x3e; {
console.log(&#x27;Uncaught promise rejection:&#x27;);
console.log(reason);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.statSync" id="apidoc.element.aurelia-cli.file_system.statSync">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>statSync
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">statSync = function (path) {
  return fs.statSync(path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.join = function() {
return nodePath.join.apply(this, Array.prototype.slice.call(arguments));
};

exports.statSync = function(path) {
return fs.<span class="apidocCodeKeywordSpan">statSync</span>(path);
};

exports.writeFile = function(path, content, encoding) {
return new Promise((resolve, reject) =&#x3e; {
  mkdirp(nodePath.dirname(path), err =&#x3e; {
    if (err) reject(err);
    else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.file_system.writeFile" id="apidoc.element.aurelia-cli.file_system.writeFile">
        function <span class="apidocSignatureSpan">aurelia-cli.file_system.</span>writeFile
        <span class="apidocSignatureSpan">(path, content, encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeFile = function (path, content, encoding) {
  return new Promise((resolve, reject) =&#x3e; {
    mkdirp(nodePath.dirname(path), err =&#x3e; {
      if (err) reject(err);
      else {
        fs.writeFile(path, content, encoding || &#x27;utf8&#x27;, error =&#x3e; {
          if (error) reject(error);
          else resolve();
        });
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.writeFile = function(path, content, encoding) {
  return new Promise((resolve, reject) =&#x3e; {
    mkdirp(nodePath.dirname(path), err =&#x3e; {
      if (err) reject(err);
      else {
        fs.<span class="apidocCodeKeywordSpan">writeFile</span>(path, content, encoding || &#x27;utf8&#x27;, error =&#x3e; {
          if (error) reject(error);
          else resolve();
        });
      }
    });
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.index" id="apidoc.module.aurelia-cli.index">module aurelia-cli.index</a></h1>






    <h2>
        <a href="#apidoc.element.aurelia-cli.index.setTheme" id="apidoc.element.aurelia-cli.index.setTheme">
        function <span class="apidocSignatureSpan">aurelia-cli.index.</span>setTheme
        <span class="apidocSignatureSpan">(theme)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTheme = function (theme) {
  if (typeof theme === &#x27;string&#x27;) {
    try {
      colors.themes[theme] = require(theme);
      applyTheme(colors.themes[theme]);
      return colors.themes[theme];
    } catch (err) {
      console.log(err);
      return err;
    }
  } else {
    applyTheme(theme);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.index.strip" id="apidoc.element.aurelia-cli.index.strip">
        function <span class="apidocSignatureSpan">aurelia-cli.index.</span>strip
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">strip = function (str){
  return (&#x22;&#x22; + str).replace(/\x1B\[\d+m/g, &#x27;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    return (!uProtocol || uProtocol === protocol) &#x26;&#x26;
           (!uHostName || uHostName.toLowerCase() === hostname.toLowerCase()) &#x26;&#x26;
           ((!uPort &#x26;&#x26; !uHostName) || uPort === port);
},

finishLoad: function (name, strip, content, onLoad) {
    content = strip ? text.<span class="apidocCodeKeywordSpan">strip</span>(content) : content;
    if (masterConfig.isBuild) {
        buildMap[name] = content;
    }
    onLoad(content);
},

load: function (name, req, onLoad, config) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.index.stripColors" id="apidoc.element.aurelia-cli.index.stripColors">
        function <span class="apidocSignatureSpan">aurelia-cli.index.</span>stripColors
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stripColors = function (str){
  return (&#x22;&#x22; + str).replace(/\x1B\[\d+m/g, &#x27;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.index.stylize" id="apidoc.element.aurelia-cli.index.stylize">
        function <span class="apidocSignatureSpan">aurelia-cli.index.</span>stylize
        <span class="apidocSignatureSpan">(str, style)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stylize(str, style) {
  if (!colors.enabled) {
    return str+&#x27;&#x27;;
  }

  return ansiStyles[style].open + str + ansiStyles[style].close;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.logger" id="apidoc.module.aurelia-cli.logger">module aurelia-cli.logger</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.logger.Logger" id="apidoc.element.aurelia-cli.logger.Logger">
        function <span class="apidocSignatureSpan">aurelia-cli.logger.</span>Logger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {

  static inject() { return [UI]; }

  constructor(ui) {
    this.ui = ui;
  }

  debug(logger, message) {
    this.log(logger, &#x27;DEBUG&#x27;, message, arguments);
  }

  info(logger, message) {
    this.log(logger, &#x27;INFO&#x27;, message, arguments);
  }

  warn(logger, message) {
    this.log(logger, &#x27;WARN&#x27;, message, arguments);
  }

  error(logger, message) {
    this.log(logger, &#x27;ERROR&#x27;, message, arguments);
  }

  log(logger, level, message, rest) {
    let msg = `${level} [${logger.id}] ${message}`;
    let args = Array.prototype.slice.call(rest, 2);

    if (args.length &#x3e; 0) {
      msg += ` ${args.map(x =&#x3e; JSON.stringify(x)).join(&#x27; &#x27;)}`;
    }

    this.ui.log(msg);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.mkdirp" id="apidoc.module.aurelia-cli.mkdirp">module aurelia-cli.mkdirp</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.mkdirp.mkdirp" id="apidoc.element.aurelia-cli.mkdirp.mkdirp">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>mkdirp
        <span class="apidocSignatureSpan">(p, opts, f, made)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function mkdirp(p, opts, f, made) {
  if (typeof opts === &#x27;function&#x27;) {
    f = opts;
    opts = {};
  } else if (!opts || typeof opts !== &#x27;object&#x27;) {
    opts = { mode: opts };
  }

  let mode = opts.mode;
  let xfs = opts.fs || fs;

  if (mode === undefined) {
    mode = _0777 &#x26; (~process.umask());
  }
  if (!made) made = null;

  let cb = f || function() {};
  p = path.resolve(p);

  xfs.mkdir(p, mode, function(er) {
    if (!er) {
      made = made || p;
      return cb(null, made);
    }
    switch (er.code) {
    case &#x27;ENOENT&#x27;:
      mkdirp(path.dirname(p), opts, function(err, isMade) {
        if (err) cb(err, isMade);
        else mkdirp(p, opts, cb, isMade);
      });
      break;

    // In the case of any other error, just see if there&#x27;s a dir
    // there already.  If so, then hooray!  If not, then something
    // is borked.
    default:
      xfs.stat(p, function(er2, stat) {
        // if the stat fails, then that&#x27;s super weird.
        // let the original error be the failure reason.
        if (er2 || !stat.isDirectory()) cb(er, made);
        else cb(null, made);
      });
      break;
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    .then(project =&#x3e; {
      expect(project).not.toBeDefined();
    })
    .catch(fail).then(done);
});

it(&#x27;calls and resolves to Project.establish()&#x27;, done =&#x3e; {
  fs.<span class="apidocCodeKeywordSpan">mkdirp</span>(path.join(process.cwd(), aureliaProject))
    .then(() =&#x3e; cli._establishProject({
      runningLocally: true
    }))
    .then(project =&#x3e; {
      expect(Project.establish)
        .toHaveBeenCalledWith(cli.ui, path.join(process.cwd()));
      expect(project).toBe(project);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.npm" id="apidoc.module.aurelia-cli.npm">module aurelia-cli.npm</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.npm.NPM" id="apidoc.element.aurelia-cli.npm.NPM">
        function <span class="apidocSignatureSpan">aurelia-cli.npm.</span>NPM
        <span class="apidocSignatureSpan">(packages, npmOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  install(packages, npmOptions) {
    npmOptions = npmOptions || {};
    const npm = require(&#x27;npm&#x27;);

    let originalWorkingDirectory = process.cwd();
    process.chdir(npmOptions.workingDirectory || process.cwd());

    return load(npm, npmOptions)
      .then(() =&#x3e; {
        return new Promise((resolve, reject) =&#x3e; {
          npm.commands.install(packages, error =&#x3e; {
            process.chdir(originalWorkingDirectory);

            if (error) reject(error);
            else resolve();
          });
        });
      }).catch(error =&#x3e; {
        process.chdir(originalWorkingDirectory);
        throw error;
      });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.project" id="apidoc.module.aurelia-cli.project">module aurelia-cli.project</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.project.Project" id="apidoc.element.aurelia-cli.project.Project">
        function <span class="apidocSignatureSpan">aurelia-cli.project.</span>Project
        <span class="apidocSignatureSpan">(ui, dir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  static establish(ui, dir) {
    process.chdir(dir);

    return fs.readFile(path.join(dir, &#x27;aurelia_project&#x27;, &#x27;aurelia.json&#x27;)).then(model =&#x3e; {
      return fs.readFile(path.join(dir, &#x27;package.json&#x27;)).then(pack =&#x3e; {
        return new exports.Project(ui, dir, JSON.parse(model.toString()), JSON.parse(pack.toString()));
      });
    });
  }

  constructor(ui, directory, model, pack) {
    this.ui = ui;
    this.directory = directory;
    this.model = model;
    this.package = pack;
    this.taskDirectory = path.join(directory, &#x27;aurelia_project/tasks&#x27;);
    this.generatorDirectory = path.join(directory, &#x27;aurelia_project/generators&#x27;);
    this.aureliaJSONPath = path.join(directory, &#x27;aurelia_project&#x27;, &#x27;aurelia.json&#x27;);

    this.locations = Object.keys(model.paths).map(key =&#x3e; this[key] = ProjectItem.directory(model.paths[key]));
    this.locations.push(this.generators = ProjectItem.directory(&#x27;aurelia_project/generators&#x27;));
    this.locations.push(this.tasks = ProjectItem.directory(&#x27;aurelia_project/tasks&#x27;));
  }

  commitChanges() {
    return Promise.all(this.locations.map(x =&#x3e; x.create(this.ui, this.directory)));
  }

  makeFileName(name) {
    return string.sluggify(name);
  }

  makeClassName(name) {
    return string.upperCamelCase(name);
  }

  makeFunctionName(name) {
    return string.lowerCamelCase(name);
  }

  installTranspiler() {
    switch (this.model.transpiler.id) {
    case &#x27;babel&#x27;:
      installBabel();
      break;
    case &#x27;typescript&#x27;:
      installTypeScript();
      break;
    default:
      throw new Error(`${this.model.transpiler.displayName} is not a supported transpiler.`);
    }
  }

  getExport(m, name) {
    return name ? m[name] : m.default;
  }

  getGeneratorMetadata() {
    return getMetadata(this.generatorDirectory);
  }

  getTaskMetadata() {
    return getMetadata(this.taskDirectory);
  }

  resolveGenerator(name) {
    let potential = path.join(this.generatorDirectory, `${name}${this.model.transpiler.fileExtension}`);
    return fs.stat(potential).then(() =&#x3e; potential).catch(() =&#x3e; null);
  }

  resolveTask(name) {
    let potential = path.join(this.taskDirectory, `${name}${this.model.transpiler.fileExtension}`);
    return fs.stat(potential).then(() =&#x3e; potential).catch(() =&#x3e; null);
  }

  addDependency(bundle, dependency) {
    if (!bundle.dependencies) {
      bundle.dependencies = [];
    }

    bundle.dependencies.push(dependency);
  }

  addOrReplaceDependency(bundle, dependency) {
    let name = (dependency.name || dependency);
    if (this.hasDependency(bundle, name)) {
      this.replaceDependency(bundle, this.getDependency(bundle, name), dependency);
    } else {
      this.addDependency(bundle, dependency);
    }
  }

  replaceDependency(bundle, oldDependency, newDependency) {
    let index = bundle.dependencies.indexOf(oldDependency);

    bundle.dependencies[index] = newDependency;
  }

  removeDependency(bundle, dependency) {
    let index = bundle.dependencies.indexOf(dependency);

    bundle.dependencies.splice(index, 1);
  }

  getDependency(bundle, name) {
    return (bundle.dependencies || []).find(item =&#x3e; (item.name || item) === name);
  }

  hasDependency(bundle, name) {
    return this.getDependency(bundle, name) !== undefined;
  }

  hasBundle(bundleName) {
    return this.getBundle(bundleName) !== undefined;
  }

  getBundle(bundleName) {
    let bundles = this.model.build.bundles;
    return bundles.find(item =&#x3e; item.name === bundleName);
  }

  addBundle(bundle) {
    let bundles = this.model.build.bundles;

    bundles.push(bundle);
  }

  removeBundle(bundle) {
    let bundles = this.model.build.bundles;
    let index = bundles.indexOf(bundle);

    bundles.splice(index, 1);
  }

  replaceBundle(oldBundle, newBundle) {
    let bundles = this.model.build.bundles;
    let index = bundles.indexOf(oldBundle);

    bundles[index] = newBundle;
  }

  getDefaultBundle() {
    let bundles = this.model.build.bundles;

    if (bundles.length === 0) {
      throw new Error(&#x27;There are no bundles in aurelia.json. Please create one&#x27;);
    }

    return this.getLargestB ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.Project = class {
static establish(ui, dir) {
  process.chdir(dir);

  return fs.readFile(path.join(dir, &#x27;aurelia_project&#x27;, &#x27;aurelia.json&#x27;)).then(model =&#x3e; {
    return fs.readFile(path.join(dir, &#x27;package.json&#x27;)).then(pack =&#x3e; {
      return new exports.<span class="apidocCodeKeywordSpan">Project</span>(ui, dir, JSON.parse(model.toString()), JSON.parse(pack
.toString()));
    });
  });
}

constructor(ui, directory, model, pack) {
  this.ui = ui;
  this.directory = directory;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.project_item" id="apidoc.module.aurelia-cli.project_item">module aurelia-cli.project_item</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.project_item.ProjectItem" id="apidoc.element.aurelia-cli.project_item.ProjectItem">
        function <span class="apidocSignatureSpan">aurelia-cli.project_item.</span>ProjectItem
        <span class="apidocSignatureSpan">(name, isDirectory)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor(name, isDirectory) {
    this.name = name;
    this.isDirectory = !!isDirectory;
    this._fileExistsStrategy = &#x27;replace&#x27;;
  }

  get children() {
    if (!this._children) {
      this._children = [];
    }

    return this._children;
  }

  get transformers() {
    if (!this._transformers) {
      this._transformers = [];
    }

    return this._transformers;
  }

  skipIfExists() {
    this._fileExistsStrategy = &#x27;skip&#x27;;
    return this;
  }

  mergeIfExists() {
    this._fileExistsStrategy = &#x27;merge&#x27;;
    return this;
  }

  askUserIfExists() {
    this._fileExistsStrategy = &#x27;ask&#x27;;
    return this;
  }

  add() {
    if (!this.isDirectory) {
      throw new Error(&#x27;You cannot add items to a non-directory.&#x27;);
    }

    for (let i = 0; i &#x3c; arguments.length; ++i) {
      let child = arguments[i];

      if (this.children.indexOf(child) !== -1) {
        continue;
      }

      child.parent = this;
      this.children.push(child);
    }

    return this;
  }

  calculateRelativePath(fromLocation) {
    if (this === fromLocation) {
      return &#x27;&#x27;;
    }

    let parentRelativePath = (this.parent &#x26;&#x26; this.parent !== fromLocation)
      ? this.parent.calculateRelativePath(fromLocation)
      : &#x27;&#x27;;

    return path.posix.join(parentRelativePath, this.name);
  }

  setJSONObject(jsonObject) {
    this.jsonObject = jsonObject;
    return this;
  }

  setText(text) {
    this.text = text;
    return this;
  }

  setSourcePath(p) {
    this.sourcePath = p;
    return this;
  }

  transformWith(callback) {
    this.transformers.push(callback);
    return this;
  }

  create(ui, relativeTo) {
    let fullPath = relativeTo ? path.posix.join(relativeTo, this.name) : this.name;

    if (this.isDirectory) {
      return fs.stat(fullPath)
        .then(result =&#x3e; result)
        .catch(() =&#x3e; fs.mkdir(fullPath))
        .then(() =&#x3e; Promise.all(this.children.map(child =&#x3e;
          child.create(ui, fullPath)
        )));
    } else if (this.sourcePath) {
      return fs.readFile(this.sourcePath).then(data =&#x3e; {
        return this._write(fullPath, data, ui);
      });
    } else if (this.jsonObject) {
      return this._write(fullPath, JSON.stringify(this.jsonObject, null, 2), ui);
    } else if (this.text) {
      return this._write(fullPath, this.text, ui);
    }

    return Promise.resolve();
  }

  _write(fullPath, content, ui) {
    for (let i = 0, ii = this.transformers.length; i &#x3c; ii; ++i) {
      content = this.transformers[i](content);
    }

    return fs.stat(fullPath).then(() =&#x3e; {
      switch (this._fileExistsStrategy) {
      case &#x27;skip&#x27;:
        return Promise.resolve();
      case &#x27;merge&#x27;:
        if (this.name === &#x27;package.json&#x27;) {
          return fs.readFile(fullPath).then(data =&#x3e; {
            let json = JSON.parse(data.toString());
            let merged = mergePackageJson(json, this.jsonObject);
            return fs.writeFile(fullPath, JSON.stringify(merged, null, 2));
          });
        }
        throw new Error(`cannot merge ${this.name}`);
      case &#x27;ask&#x27;:
        let question = `An existing file named &#x27;${this.name}&#x27; was found. What would you like to do?`;
        let options = [
          {
            displayName: &#x27;Keep It&#x27;,
            description: &#x27;Keeps your existing file. You may need to update its contents to work with Aurelia.&#x27;
          },
          {
            displayName: &#x27;Replace It&#x27;,
            description: &#x27;Replaces the existing file with a new one designed for Aurelia.&#x27;
          }
        ];

        return ui.question(question, options).then(answer =&#x3e; {
          if (answer === options[0]) {
            return Promise.resolve();
          }

          return fs.writeFile(fullPath, content);
        });
      default:
        return fs.writeFile(fullPath, content);
      }
    }).catch(() =&#x3e; fs.writeFile(fullPath, content));
  }

  static jsonObject(name, jsonObject) {
    return new exports.ProjectItem(name, false).setJSONObject(jsonObject);
  }

  static text(name, text) {
    return new exports.ProjectItem(name, false).setText(text);
  }

  static resource(name, resourc ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    default:
      return fs.writeFile(fullPath, content);
    }
  }).catch(() =&#x3e; fs.writeFile(fullPath, content));
}

static jsonObject(name, jsonObject) {
  return new exports.<span class="apidocCodeKeywordSpan">ProjectItem</span>(name, false).setJSONObject(jsonObject);
}

static text(name, text) {
  return new exports.ProjectItem(name, false).setText(text);
}

static resource(name, resourcePath, extensionOrConfig) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.project_template" id="apidoc.module.aurelia-cli.project_template">module aurelia-cli.project_template</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.project_template.ProjectTemplate" id="apidoc.element.aurelia-cli.project_template.ProjectTemplate">
        function <span class="apidocSignatureSpan">aurelia-cli.project_template.</span>ProjectTemplate
        <span class="apidocSignatureSpan">(model, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor(model, options) {
    this.options = options;
    this.package = {
      name: string.sluggify(model.name),
      description: &#x27;An Aurelia client application.&#x27;,
      version: &#x27;0.1.0&#x27;,
      repository: {
        type: &#x27;???&#x27;,
        url: &#x27;???&#x27;
      },
      license: &#x27;MIT&#x27;,
      dependencies: {},
      peerDependencies: {},
      devDependencies: {}
    };

    this.model = Object.assign({}, model, {
      paths: {}
    });

    this.postInstallProcesses = [];

    this.root = options.hasFlag(&#x27;here&#x27;)
      ? ProjectItem.directory(process.cwd())
      : ProjectItem.directory(model.name);

    this.resources = ProjectItem.directory(&#x27;resources&#x27;);
    this.elements = ProjectItem.directory(&#x27;elements&#x27;);
    this.attributes = ProjectItem.directory(&#x27;attributes&#x27;);
    this.valueConverters = ProjectItem.directory(&#x27;value-converters&#x27;);
    this.bindingBehaviors = ProjectItem.directory(&#x27;binding-behaviors&#x27;);
    this.src = ProjectItem.directory(&#x27;src&#x27;).add(
      this.resources.add(
        this.elements,
        this.attributes,
        this.valueConverters,
        this.bindingBehaviors
      )
    );

    this.unitTests = ProjectItem.directory(&#x27;unit&#x27;);
    this.e2eTests = ProjectItem.directory(&#x27;e2e&#x27;);
    this.tests = ProjectItem.directory(&#x27;test&#x27;);

    this.tasks = ProjectItem.directory(&#x27;tasks&#x27;);
    this.generators = ProjectItem.directory(&#x27;generators&#x27;);
    this.environments = ProjectItem.directory(&#x27;environments&#x27;);

    this.projectFolder = ProjectItem.directory(&#x27;aurelia_project&#x27;).add(
      this.tasks,
      this.generators,
      this.environments,
      ProjectItem.jsonObject(&#x27;aurelia.json&#x27;, this.model)
    );
  }

  get name() {
    return this.package.name;
  }

  configureVisualStudioStructure() {
    this.content = this.root;

    this.projectOutput = ProjectItem.directory(&#x27;wwwroot&#x27;);

    this.addToContent(
      this.projectFolder,
      this.src,
      this.projectOutput.add(
        ProjectItem.resource(&#x27;index.html&#x27;, &#x27;content/index.html&#x27;).askUserIfExists(),
        ProjectItem.resource(&#x27;favicon.ico&#x27;, &#x27;img/favicon.ico&#x27;).skipIfExists()
      ),
      ProjectItem.jsonObject(&#x27;package.json&#x27;, this.package).mergeIfExists(),
      ProjectItem.resource(&#x27;.editorconfig&#x27;, &#x27;content/editorconfig&#x27;).skipIfExists(),
      ProjectItem.resource(&#x27;.gitignore&#x27;, &#x27;content/gitignore&#x27;).skipIfExists()
    );
  }

  // If content is always empty (web.js platform invokes this method without parameters) we can remove it. Otherwise shouldn&#x27;t we
 add it in the configureVisualStudioStructure too?
  configureDefaultStructure(content) {
    this.content = content || this.root;
    this.projectOutput = this.root;

    this.addToContent(
      this.projectFolder,
      this.src,
      ProjectItem.jsonObject(&#x27;package.json&#x27;, this.package),
      ProjectItem.resource(&#x27;.editorconfig&#x27;, &#x27;content/editorconfig&#x27;),
      ProjectItem.resource(&#x27;.gitignore&#x27;, &#x27;content/gitignore&#x27;),
      ProjectItem.resource(&#x27;favicon.ico&#x27;, &#x27;img/favicon.ico&#x27;),
      ProjectItem.resource(&#x27;index.html&#x27;, &#x27;content/index.html&#x27;)
    );
  }

  configureDefaultSetup() {
    this.scripts = ProjectItem.directory(&#x27;scripts&#x27;);
    this.projectOutput.add(this.scripts);

    this.addToSource(
      ProjectItem.resource(&#x27;main.ext&#x27;, &#x27;src/main.ext&#x27;, this.model.transpiler),
      ProjectItem.resource(&#x27;app.ext&#x27;, &#x27;src/app.ext&#x27;, this.model.transpiler),
      ProjectItem.resource(&#x27;app.ext&#x27;, &#x27;src/app.ext&#x27;, this.model.markupProcessor),
      ProjectItem.resource(&#x27;environment.ext&#x27;, &#x27;environments/dev.js&#x27;, this.model.transpiler)
    ).addToResources(
      ProjectItem.resource(&#x27;index.ext&#x27;, &#x27;src/resources/index.ext&#x27;, this.model.transpiler)
    ).addToTasks(
      ProjectItem.resource(&#x27;build.ext&#x27;, &#x27;tasks/build.ext&#x27;, this.model.transpiler),
      ProjectItem.resource(&#x27;build.json&#x27;, &#x27;tasks/build.json&#x27;),
      ProjectItem.resource(&#x27;copy-files.ext&#x27;, &#x27;tasks/copy-files.ext&#x27;, this.model.transpiler),
      ProjectItem.resource(&#x27;run.ext&#x27;, &#x27;tasks/run.ext&#x27;, this.model.transpiler),
      ProjectItem.resource(&#x27;run.json&#x27;, &#x27;tasks/run.json&#x27;)
    ).addToGenerators(
      ProjectItem.resource(&#x27;attribute.ext&#x27;, &#x27;gen ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.string" id="apidoc.module.aurelia-cli.string">module aurelia-cli.string</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.string.buildFromMetadata" id="apidoc.element.aurelia-cli.string.buildFromMetadata">
        function <span class="apidocSignatureSpan">aurelia-cli.string.</span>buildFromMetadata
        <span class="apidocSignatureSpan">(metadata, width)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buildFromMetadata = function (metadata, width) {
  let text = &#x27;&#x27;;
  metadata.forEach(json =&#x3e; text += transformCommandToStyledText(json, width));
  return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });
  }

  displayGeneratorInfo(message) {
    return this.ui.displayLogo()
      .then(() =&#x3e; this.ui.log(message + os.EOL))
      .then(() =&#x3e; this.project.getGeneratorMetadata())
      .then(metadata =&#x3e; string.<span class="apidocCodeKeywordSpan">buildFromMetadata</span>(metadata, this.ui.getWidth()))
      .then(str =&#x3e; this.ui.log(str));
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.string.createLines" id="apidoc.element.aurelia-cli.string.createLines">
        function <span class="apidocSignatureSpan">aurelia-cli.string.</span>createLines
        <span class="apidocSignatureSpan">(text, currentIndent, width)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createLines(text, currentIndent, width) {
  let toAdd = currentIndent + text;

  if (toAdd.length &#x3e; width) {
    let parts = text.split(&#x27; &#x27;);
    let lines = [];
    let currentLine = &#x27;&#x27;;

    for (let i = 0, ii = parts.length; i &#x3c; ii; ++i) {
      let potential = currentIndent + currentLine + &#x27; &#x27; + parts[i];

      if (potential.length &#x3e; width) {
        lines.push(currentIndent + currentLine.trim());
        currentLine = parts[i];
      } else {
        currentLine = currentLine + &#x27; &#x27; + parts[i];
      }
    }

    lines.push(currentIndent + currentLine);
    toAdd = lines.join(os.EOL);
  }

  return toAdd;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.string.lowerCamelCase" id="apidoc.element.aurelia-cli.string.lowerCamelCase">
        function <span class="apidocSignatureSpan">aurelia-cli.string.</span>lowerCamelCase
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lowerCamelCase = function (str) {
  return str.charAt(0).toLowerCase() + str.slice(1).replace(/[_.-](\w|$)/g, (_, x) =&#x3e; x.toUpperCase());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

makeClassName(name) {
  return string.upperCamelCase(name);
}

makeFunctionName(name) {
  return string.<span class="apidocCodeKeywordSpan">lowerCamelCase</span>(name);
}

installTranspiler() {
  switch (this.model.transpiler.id) {
  case &#x27;babel&#x27;:
    installBabel();
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.string.sluggify" id="apidoc.element.aurelia-cli.string.sluggify">
        function <span class="apidocSignatureSpan">aurelia-cli.string.</span>sluggify
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sluggify = function (str) {
  return str.toString().toLowerCase()
    .replace(/\s+/g, &#x27;-&#x27;)           // Replace spaces with -
    .replace(/[^\w\-]+/g, &#x27;&#x27;)       // Remove all non-word chars
    .replace(/\-\-+/g, &#x27;-&#x27;)         // Replace multiple - with single -
    .replace(/^-+/, &#x27;&#x27;)             // Trim - from start of text
    .replace(/-+$/, &#x27;&#x27;);            // Trim - from end of text
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

commitChanges() {
  return Promise.all(this.locations.map(x =&#x3e; x.create(this.ui, this.directory)));
}

makeFileName(name) {
  return string.<span class="apidocCodeKeywordSpan">sluggify</span>(name);
}

makeClassName(name) {
  return string.upperCamelCase(name);
}

makeFunctionName(name) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.string.upperCamelCase" id="apidoc.element.aurelia-cli.string.upperCamelCase">
        function <span class="apidocSignatureSpan">aurelia-cli.string.</span>upperCamelCase
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">upperCamelCase = function (str) {
  return str.charAt(0).toUpperCase() + str.slice(1).replace(/[_.-](\w|$)/g, (_, x) =&#x3e; x.toUpperCase());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

makeFileName(name) {
  return string.sluggify(name);
}

makeClassName(name) {
  return string.<span class="apidocCodeKeywordSpan">upperCamelCase</span>(name);
}

makeFunctionName(name) {
  return string.lowerCamelCase(name);
}

installTranspiler() {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.ui" id="apidoc.module.aurelia-cli.ui">module aurelia-cli.ui</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.ui.ConsoleUI" id="apidoc.element.aurelia-cli.ui.ConsoleUI">
        function <span class="apidocSignatureSpan">aurelia-cli.ui.</span>ConsoleUI
        <span class="apidocSignatureSpan">(cliOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor(cliOptions) {
    this.cliOptions = cliOptions;
  }

  open() {
    if (this.rl) {
      return;
    }

    this.rl = readline.createInterface({
      input: process.stdin,
      output: process.stdout
    });
  }

  close() {
    if (this.rl) {
      this.rl.close();
      this.rl = null;
    }
  }

  log(text) {
    return new Promise((resolve, reject) =&#x3e; {
      console.log(text);
      resolve();
    });
  }

  ensureAnswer(answer, question, suggestion) {
    if (answer) {
      return Promise.resolve(answer);
    }

    return this.question(question, suggestion);
  }

  question(text, optionsOrSuggestion) {
    return new Promise((resolve, reject) =&#x3e; {
      if (!optionsOrSuggestion || typeof optionsOrSuggestion === &#x27;string&#x27;) {
        this.open();

        let fullText = os.EOL + text + os.EOL + os.EOL;

        if (optionsOrSuggestion) {
          fullText += &#x27;[&#x27; + optionsOrSuggestion + &#x27;]&#x27;;
        }

        this.rl.question(fullText + &#x27;&#x3e; &#x27;, answer =&#x3e; {
          this.close();

          answer = answer || optionsOrSuggestion;

          if (answer) {
            resolve(answer);
          } else {
            return this.question(text, optionsOrSuggestion).then(theAnswer =&#x3e; resolve(theAnswer));
          }
        });
      } else {
        optionsOrSuggestion = optionsOrSuggestion.filter(x =&#x3e; includeOption(this.cliOptions, x));

        if (optionsOrSuggestion.length === 1) {
          return resolve(optionsOrSuggestion[0]);
        }

        let defaultOption = optionsOrSuggestion[0];
        let fullText = os.EOL + text + os.EOL
          + createOptionsText(this, optionsOrSuggestion) + os.EOL + &#x27;[&#x27; + defaultOption.displayName + &#x27;]&#x27; + &#x27;&#x3e; &#x27;;

        this.open();
        this.rl.question(fullText, answer =&#x3e; {
          this.close();
          resolve(interpretAnswer(answer, optionsOrSuggestion));
        });
      }
    });
  }

  multiselect(question, options) {
    return new Promise(resolve =&#x3e; {
      let info = &#x27;Select one or more options separated by spaces&#x27;;
      let fullText = os.EOL + question + os.EOL
          + createOptionsText(this, options, true) + os.EOL + info + os.EOL + &#x27;&#x3e; &#x27;;

      this.open();
      this.rl.question(fullText, answer =&#x3e; {
        this.close();
        let answers = answer.split(&#x27; &#x27;);
        answers = answers.filter(x =&#x3e; x.length &#x3e; 0);
        resolve(interpretAnswers(answers, options));
      });
    });
  }

  getWidth() {
    return getWindowSize().width;
  }

  getHeight() {
    return getWindowSize().height;
  }

  displayLogo() {
    this.clearScreen();

    if (this.getWidth() &#x3c; 50) {
      return this.log(&#x27;Aurelia CLI&#x27; + os.EOL);
    }

    let logoLocation = require.resolve(&#x27;./resources/logo.txt&#x27;);

    return fs.readFile(logoLocation).then(logo =&#x3e; {
      console.log(logo.toString());
    });
  }

  clearScreen() {
    //let lines = this.getHeight();

    //for(var i = 0; i &#x3c; lines; i++) {
    //  console.log(&#x27;\r\n&#x27;);
    //}

    return Promise.resolve();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const LogManager = require(&#x27;aurelia-logging&#x27;);
const Logger = require(&#x27;./logger&#x27;).Logger;

exports.CLI = class {
constructor(options) {
  this.options = options || new CLIOptions();
  this.container = new Container();
  this.ui = new ui.<span class="apidocCodeKeywordSpan">ConsoleUI</span>(this.options);
  this.configureContainer();
}

run(cmd, args) {
  if (cmd === &#x27;--version&#x27; || cmd === &#x27;-v&#x27;) {
    return this.ui.log(require(&#x27;../package.json&#x27;).version);
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.ui.UI" id="apidoc.element.aurelia-cli.ui.UI">
        function <span class="apidocSignatureSpan">aurelia-cli.ui.</span>UI
        <span class="apidocSignatureSpan">{{signature}}</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.workflow_engine" id="apidoc.module.aurelia-cli.workflow_engine">module aurelia-cli.workflow_engine</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.workflow_engine.WorkflowContext" id="apidoc.element.aurelia-cli.workflow_engine.WorkflowContext">
        function <span class="apidocSignatureSpan">aurelia-cli.workflow_engine.</span>WorkflowContext
        <span class="apidocSignatureSpan">(workflow, state, resolve, reject)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor(workflow, state, resolve, reject) {
    this.workflow = workflow;
    this.state = state || {};
    this._resolve = resolve;
    this._reject = reject;
  }

  next(activityId) {
    if (activityId === null || activityId === undefined) {
      return this._resolve(this.state);
    }

    let next = this.workflow.getActivityById(activityId);

    if (!next) {
      return this._resolve(this.state);
    }

    let activity = this.workflow.createActivity(next);
    activity.execute(this);
  }

  cancel() {
    this._reject(this.state);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.container = container || new Container();

  this.configureContainer(this.container);
}

start(state) {
  return new Promise((resolve, reject) =&#x3e; {
    let context = new exports.<span class="apidocCodeKeywordSpan">WorkflowContext</span>(this, state, resolve, reject);
    let activity = this.createActivity(this.definition.activities[0]);
    activity.execute(context);
  });
}

getActivityById(id) {
  return this.definition.activities.find(x =&#x3e; x.id === id);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.workflow_engine.WorkflowEngine" id="apidoc.element.aurelia-cli.workflow_engine.WorkflowEngine">
        function <span class="apidocSignatureSpan">aurelia-cli.workflow_engine.</span>WorkflowEngine
        <span class="apidocSignatureSpan">(definition, container)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  constructor(definition, container) {
    this.definition = definition;
    this.container = container || new Container();

    this.configureContainer(this.container);
  }

  start(state) {
    return new Promise((resolve, reject) =&#x3e; {
      let context = new exports.WorkflowContext(this, state, resolve, reject);
      let activity = this.createActivity(this.definition.activities[0]);
      activity.execute(context);
    });
  }

  getActivityById(id) {
    return this.definition.activities.find(x =&#x3e; x.id === id);
  }

  createActivity(definition) {
    let activity = this.container.get(definition.type);
    Object.assign(activity, definition);
    return activity;
  }

  configureContainer(container) {
    [
      &#x27;state-assign&#x27;,
      &#x27;input-text&#x27;,
      &#x27;input-select&#x27;,
      &#x27;branch-switch&#x27;,
      &#x27;project-create&#x27;,
      &#x27;project-install&#x27;
    ].forEach(type =&#x3e; {
      container.registerTransient(type, require(`./activities/${type}`));
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.aurelia-cli.yarn" id="apidoc.module.aurelia-cli.yarn">module aurelia-cli.yarn</a></h1>


    <h2>
        <a href="#apidoc.element.aurelia-cli.yarn.yarn" id="apidoc.element.aurelia-cli.yarn.yarn">
        function <span class="apidocSignatureSpan">aurelia-cli.</span>yarn
        <span class="apidocSignatureSpan">(packages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  install(packages) {
    return new Promise((resolve, reject) =&#x3e; {
      let cmd = `yarn add ${packages.join(&#x27; &#x27;)}`;
      let options = { cwd: process.cwd() };

      let installProcess = childProcess.exec(cmd, options, (error, stdout, stderr) =&#x3e; {
        if (error) {
          reject(error);
          return;
        }

        resolve();
      });

      installProcess.stdout.on(&#x27;data&#x27;, data =&#x3e; console.log(data));
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.aurelia-cli.yarn.default" id="apidoc.element.aurelia-cli.yarn.default">
        function <span class="apidocSignatureSpan">aurelia-cli.yarn.</span>default
        <span class="apidocSignatureSpan">(packages)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class {
  install(packages) {
    return new Promise((resolve, reject) =&#x3e; {
      let cmd = `yarn add ${packages.join(&#x27; &#x27;)}`;
      let options = { cwd: process.cwd() };

      let installProcess = childProcess.exec(cmd, options, (error, stdout, stderr) =&#x3e; {
        if (error) {
          reject(error);
          return;
        }

        resolve();
      });

      installProcess.stdout.on(&#x27;data&#x27;, data =&#x3e; console.log(data));
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
